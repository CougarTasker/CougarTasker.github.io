var t,s;function u(t){this.b=t,this.t=function(){},this.i=!1;var i=this;this.start=function(){i.b.h?i.end(i.start):(i.t=function(){i.start()},i.b.move(i.b.s(1)).then(i.stop))},this.end=function(t){i.b.h&&!i.i?(i.t=function(){i.b.move(i.b.x.get()).then((function(){i.b.u(),i.i=!1,t()}))},i.b.u(),i.b.o(),i.i=!0):i.i||t()},this.stop=function(){i.t()}}function o(t,h){this.n=h.size,this.l=this.n+3,this.v=t,this.g=h;var s=this;this.canvas=$("canvas")[0],this.M=this.canvas.getContext("2d"),this.update=function(){for(s.M.clearRect(0,0,s.canvas.width,s.canvas.height),s.M.fillStyle="#292e1e",i=0;i<s.v;i++)s.$(i,0,0,s.n+1);var t=s.M.createLinearGradient(0,0,s.canvas.width,s.canvas.height);t.addColorStop(0,"#9cde9f"),t.addColorStop(.5,"#48a9a6"),t.addColorStop(1,"#9cde9f"),s.M.fillStyle=t,s.g.p(s)},this.m=function(t){s.g=t,s.n=t.size,s.l=s.n+3},this.$=function(t,i,h,s){twidth=Math.floor((h+1)/(this.n+1)*(this.canvas.width/this.v)),theight=s*Math.floor(this.canvas.height/this.l),tx=Math.floor((t+.5)*this.canvas.width/this.v-.5*twidth),ty=this.canvas.height-(theight+Math.floor(this.canvas.height/this.l)*i);var n=twidth;theight<twidth&&(n=theight),this.M.lineWidth=n/3*2,this.M.strokeStyle=this.M.fillStyle,tx+=this.M.lineWidth/2,ty+=this.M.lineWidth/2,twidth-=this.M.lineWidth,theight-=this.M.lineWidth,this.M.lineJoin="round",this.M.lineCap="round",this.M.beginPath(),this.M.moveTo(tx,ty),this.M.lineTo(tx+twidth,ty),this.M.lineTo(tx+twidth,ty+theight),this.M.lineTo(tx,ty+theight),this.M.closePath(),this.M.stroke()},this.start=function(){setInterval(this.update,1e3/60)}}function c(i){this.D=i,this.I=i,this.start=-1,this.end=null,this.N=5e3,this.P=1e3,this.S=!1,this.duration=function(){return this.S?this.P/(Math.pow(2,t)-1)/3:(l=this.N/(Math.pow(2,t)-1),min=250,l<250?250/3:l/3)},this.set=function(t){this.D=t},this.get=function(){return this.start<0?this.D:Date.now()-this.start>this.duration()?(this.start=-1,this.D=this.I,this.end(),this.D):(n=(Date.now()-this.start)/this.duration(),n=3*Math.pow(n,2)-2*Math.pow(n,3),n*(this.I-this.D)+this.D)},this.stop=function(){this.start=0},this.toggle=function(){this.S=!this.S},this.done=function(){return start<0},this.j=function(t,i){this.I=t,this.end=i,this.start=Date.now()}}function e(i,h,n){this.size=i,this.x=new c(h),this.y=new c(n),this.h=!1,this.k=function(){};var u=this;this.q=i>1?new e(i-1,h,n+1):null,this.u=function(){this.x.toggle(),this.y.toggle(),null!=this.q&&this.q.u()},this.o=function(){this.h=!1,null!=this.q&&this.q.o()},this.move=async function(i){if(u.h=!0,i!=u.x.get()){if(null!=u.q&&await u.q.move(u.s(i)),!u.h)return;if(s[u.x.get()]-=1,s[i]+=1,await new Promise((function(h,n){u.y.j(t+1.5,(function(){u.x.j(i,(function(){u.y.j(s[i]-1,h)}))}))})),!u.h)return}null!=this.q&&await u.q.move(i),this.h=!1},this.p=function(t){null!=this.q&&this.q.p(t),t.$(this.x.get(),this.y.get(),this.size,1)},this.s=function(t){return options=new Set([0,1,2]),options.delete(t),options.delete(this.x.get()),options.values().next().value}}$(document).ready((function(){!function(i){var h=new e(t=i,0,0),n=new o(3,h),c=new u(h);s=[t,0,0],n.start(),$("a.button").click(c.start),$(".	slider").on("input",(function(i){c.end((function(){t=Number($(i.target).val()),s=[0,0,0],nb=new e(t,c.b.x.get(),0),n.m(nb),c.b=nb,s[nb.x.get()]=t}))}))}(3)})),$(window).on("load resize",(function(){var t=$(".canvas"),i=$("canvas");w=t.width(),h=w/3,i.attr("height",h),i.attr("width",w)}));